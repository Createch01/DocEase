# ğŸ“Š Diagrammes et Flowcharts - SystÃ¨me de Validation

## 1ï¸âƒ£ Flowchart Complet - DÃ©tection et Alerte

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     MÃ‰DECIN AJOUTE UN MÃ‰DICAMENT        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  runSafetyChecks() Lance â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                    â”‚
        â–¼                    â–¼
   [LOCAL CHECK]       [AI CHECK]
   Instant ~1ms        Async ~2s
        â”‚                    â”‚
        â”œâ”€ Age < 15 +   â”œâ”€ Interactions
        â”‚  forbidden?    â”œâ”€ Contre-indications
        â”‚               â”œâ”€ Doublons
        â”œâ”€ Incomp?      â”œâ”€ TÃ©ratogÃ©nicitÃ©
        â”‚               â”‚
        â”œâ”€ Age < min?   â””â”€ (ChatGPT)
        â”‚
        â””â”€ Interaction
           Groups?
        â”‚                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   WARNINGS EXISTS?  â”‚
        â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜
         Noâ”‚                â”‚Yes
           â”‚                â”‚
           â–¼                â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ No Alertsâ”‚    â”‚  DISPLAY ALERTS â”‚
     â”‚ âœ“ Safe   â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                    â”‚
              Alert Type?         [Severity?]
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚           â”‚                   â”‚        â”‚
        â–¼           â–¼                   â–¼        â–¼
   ENFANT_    INCOMPATIBILITE    INTERACTION  ATTENTION
   INTERDIT                                    (moins grave)
        â”‚           â”‚                   â”‚        â”‚
        â”œâ”€â–º RED     â”œâ”€â–º RED            â”œâ”€â–º RED  â””â”€â–º ORANGE
        â”‚  BLINK    â”‚  PULSE           â”‚ STANDARD
        â”‚           â”‚                   â”‚
        â”‚ [DÃ©passer]â”‚ [DÃ©passer]      â”‚ [DÃ©passer]
        â”‚ [Masquer] â”‚ [Masquer]       â”‚ [Masquer]
        â”‚           â”‚                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                          â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
              MÃ©decin Actions
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                       â”‚
   [MASQUER]            [DÃ‰PASSER]
        â”‚                       â”‚
        â–¼                       â–¼
   Alerte          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   DisparaÃ®t       â”‚   OPEN OVERRIDE MODAL â”‚
        â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                     â”‚
        â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚          â”‚                     â”‚
        â”‚      [ANNULER]          [CONTINUER]
        â”‚          â”‚                     â”‚
        â”‚          â–¼                     â–¼
        â”‚      Modal        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      Ferme        â”‚ handleOverrideWarningâ”‚
        â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                            â”‚
        â”‚                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚                          â”‚
        â”‚                â–¼                          â–¼
        â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚        â”‚ REGISTER ITEM    â”‚      â”‚ LOG AUDIT TRAIL â”‚
        â”‚        â”‚ overriddenBy=trueâ”‚      â”‚ [AUDIT] message â”‚
        â”‚        â”‚ overrideReason=  â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚        â”‚ <raison entrÃ©e>  â”‚
        â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                  â”‚
                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  SAVE PRESCRIPTION    â”‚
                    â”‚ (JSON with audit data)â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2ï¸âƒ£ Ã‰tat d'Alerte - Cycle Complet

```
INITIAL STATE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  aiWarnings: []                                      â”‚
â”‚  overriddenWarnings: new Set()                       â”‚
â”‚  overrideModal: { isOpen: false, ... }              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ MEDICINE ADDED
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  aiWarnings: [                                       â”‚
â”‚    {                                                 â”‚
â”‚      id: 'enfant-item123',                          â”‚
â”‚      severity: 'CRITIQUE',                          â”‚
â”‚      type: 'ENFANT_INTERDIT',                       â”‚
â”‚      title: 'âš ï¸ INTERDIT POUR ENFANT',              â”‚
â”‚      message: '...',                                 â”‚
â”‚      canOverride: true                              â”‚
â”‚    }                                                 â”‚
â”‚  ]                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ CLICK "DÃ‰PASSER"
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  overrideModal: {                                    â”‚
â”‚    isOpen: true,                                    â”‚
â”‚    notificationId: 'enfant-item123',                â”‚
â”‚    reason: ''                                        â”‚
â”‚  }                                                   â”‚
â”‚                                                      â”‚
â”‚  MODAL VISIBLE:                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ Raison du dÃ©passement:               â”‚           â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚           â”‚
â”‚  â”‚ â”‚ [empty text field]              â”‚ â”‚           â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚           â”‚
â”‚  â”‚ [Annuler]  [Continuer DISABLED]     â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ TYPE REASON
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  overrideModal: {                                    â”‚
â”‚    isOpen: true,                                    â”‚
â”‚    notificationId: 'enfant-item123',                â”‚
â”‚    reason: 'Alternative non disponible, urgence'   â”‚
â”‚  }                                                   â”‚
â”‚                                                      â”‚
â”‚  [Continuer ENABLED âœ“]                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ CLICK "CONTINUER"
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  handleOverrideWarning() called                     â”‚
â”‚  â”œâ”€ overriddenWarnings.add('enfant-item123')       â”‚
â”‚  â”œâ”€ items[index].overriddenByDoctor = true         â”‚
â”‚  â”œâ”€ items[index].overrideReason = 'Alternative...' â”‚
â”‚  â”œâ”€ setOverrideModal({ isOpen: false, ... })       â”‚
â”‚  â”œâ”€ console.log('[AUDIT] MÃ©decin a ignorÃ©...')     â”‚
â”‚  â””â”€ aiWarnings.filter(w => w.id !== notification) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FINAL STATE:                                        â”‚
â”‚  aiWarnings: [] (alerte enlevÃ©e)                    â”‚
â”‚  overriddenWarnings: Set {'enfant-item123'}         â”‚
â”‚  overrideModal: { isOpen: false, ... }              â”‚
â”‚                                                      â”‚
â”‚  ITEM STATE:                                        â”‚
â”‚  {                                                   â”‚
â”‚    id: 'item123',                                   â”‚
â”‚    medicineName: 'Aspirine Adulte 500mg',          â”‚
â”‚    overriddenByDoctor: true,                        â”‚
â”‚    overrideReason: 'Alternative non disponible...' â”‚
â”‚  }                                                   â”‚
â”‚                                                      â”‚
â”‚  CONSOLE:                                           â”‚
â”‚  [AUDIT] MÃ©decin a ignorÃ© l'alerte enfant-item123  â”‚
â”‚          avec raison: Alternative non disponible... â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3ï¸âƒ£ DÃ©tection Enfant Interdit - Arbre DÃ©cisionnel

```
START
  â”‚
  â”œâ”€ patient.age < 15?
  â”‚  â”‚
  â”‚  YESâ”€â–º medicine.restriction exists?
  â”‚        â”‚
  â”‚        YESâ”€â–º restriction.status === 'interdit'?
  â”‚        â”‚     â”‚
  â”‚        â”‚     YESâ”€â–º overriddenWarnings.has(ID)?
  â”‚        â”‚     â”‚      â”‚
  â”‚        â”‚     â”‚      NOâ”€â–º PUSH WARNING
  â”‚        â”‚     â”‚           {
  â”‚        â”‚     â”‚            id: 'enfant-' + item.id
  â”‚        â”‚     â”‚            type: 'ENFANT_INTERDIT'
  â”‚        â”‚     â”‚            severity: 'CRITIQUE'
  â”‚        â”‚     â”‚            title: 'âš ï¸ INTERDIT POUR ENFANT'
  â”‚        â”‚     â”‚            canOverride: true
  â”‚        â”‚     â”‚           }
  â”‚        â”‚     â”‚      â”‚
  â”‚        â”‚     â”‚      YESâ”€â–º SKIP (dÃ©jÃ  overridÃ©)
  â”‚        â”‚     â”‚
  â”‚        â”‚     NOâ”€â–º SKIP (pas interdit, juste attention)
  â”‚        â”‚
  â”‚        NOâ”€â–º SKIP (pas de restriction dÃ©finie)
  â”‚
  NOâ”€â–º SKIP (patient >= 15 ans)
```

---

## 4ï¸âƒ£ DÃ©tection IncompatibilitÃ© - Algorithme

```
FOR EACH medicine IN currentItems
  â”‚
  GET otherMedicines = currentItems WITHOUT this medicine
  â”‚
  FOR EACH otherMedicine IN otherMedicines
    â”‚
    â”œâ”€ medicine.incompatibleWith?.includes(otherMedicine.name)?
    â”‚  â”‚
    â”‚  YESâ”€â–º SET hasConflict = TRUE
    â”‚
    â”œâ”€ otherMedicine.incompatibleWith?.includes(medicine.name)?
    â”‚  â”‚
    â”‚  YESâ”€â–º SET hasConflict = TRUE
    â”‚
    IF hasConflict:
      â”‚
      â”œâ”€ warningId = 'incomp-' + sort([medicine.id, other.id])
      â”‚
      â”œâ”€ Warning already exists?
      â”‚  â”‚
      â”‚  NOâ”€â–º PUSH WARNING
      â”‚       {
      â”‚        id: warningId
      â”‚        type: 'INCOMPATIBILITE'
      â”‚        severity: 'CRITIQUE'
      â”‚        title: 'ğŸš¨ INCOMPATIBILITÃ‰ DANGEREUSE'
      â”‚        message: '[MedA] et [MedB] NE DOIVENT PAS...'
      â”‚        canOverride: true
      â”‚       }
      â”‚
      â””â”€ YESâ”€â–º SKIP (dÃ©jÃ  affichÃ©)

RESULT: setAiWarnings([...aiOnly, ...newLocalWarnings])
```

---

## 5ï¸âƒ£ Structure des DonnÃ©es - Diagrams

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          PRESCRIPTION ITEM                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: string                              â”‚
â”‚ medicineName: string                    â”‚
â”‚ dosage: string                          â”‚
â”‚ timing: MealTiming                      â”‚
â”‚ warning?: string                        â”‚
â”‚ interactionGroup?: string               â”‚
â”œâ”€ NEW â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ overriddenByDoctor?: boolean            â”‚
â”‚ overrideReason?: string                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ Uses/References
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          MEDICINE (in DB)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: string                              â”‚
â”‚ name: string                            â”‚
â”‚ category: MedicineCategory              â”‚
â”‚ defaultDosage: string                   â”‚
â”‚ defaultTiming: MealTiming               â”‚
â”‚ isAdultOnly?: boolean                   â”‚
â”‚ interactionGroup?: string               â”‚
â”œâ”€ NEW â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ restriction?: {                         â”‚
â”‚   status: 'interdit'|'attention'|...   â”‚
â”‚   minAge?: number                       â”‚
â”‚   maxAge?: number                       â”‚
â”‚   reason?: string                       â”‚
â”‚ }                                       â”‚
â”‚ incompatibleWith?: string[]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ Contains
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    MEDICINE RESTRICTION (Interface)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ status: 'interdit' | 'attention' |     â”‚
â”‚         'autorise'                      â”‚
â”‚ minAge?: number    (e.g., 15)          â”‚
â”‚ maxAge?: number    (e.g., 65)          â”‚
â”‚ reason?: string    (e.g., "Syndrome")   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6ï¸âƒ£ Composants UI - Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   PATIENT FORM       â”‚  â”‚  MEDICINE SEARCH & LIST          â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ Patient Type   â”‚  â”‚  â”‚ â”‚ [Chercher mÃ©dicament]       â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ [A] [W] [C]    â”‚  â”‚  â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ â”‚ â”‚ Suggestions:            â”‚ â”‚ â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ â”‚ â”‚ â”œâ”€ Doliprane            â”‚ â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ Name: ________ â”‚  â”‚  â”‚ â”‚ â”‚ â”œâ”€ Advil                â”‚ â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ Age: ___ Wt:__ â”‚  â”‚  â”‚ â”‚ â”‚ â””â”€ Aspirine             â”‚ â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ Allergies:____ â”‚  â”‚  â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ Pathologies:__ â”‚  â”‚  â”‚ â”‚                             â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ â”‚ ITEMS IN PRESCRIPTION:     â”‚ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚                             â”‚ â”‚  â”‚
â”‚                            â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚  â”‚
â”‚                            â”‚ â”‚ â”‚ 1/ Doliprane 1000mg     â”‚ â”‚ â”‚  â”‚
â”‚                            â”‚ â”‚ â”‚    Dosage: 1000mg       â”‚ â”‚ â”‚  â”‚
â”‚                            â”‚ â”‚ â”‚    Timing: AprÃ¨s repas  â”‚ â”‚ â”‚  â”‚
â”‚                            â”‚ â”‚ â”‚    [X] Remove            â”‚ â”‚ â”‚  â”‚
â”‚                            â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚  â”‚
â”‚                            â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚  â”‚
â”‚                            â”‚ â”‚ â”‚ 2/ Warfarine 5mg        â”‚ â”‚ â”‚  â”‚
â”‚                            â”‚ â”‚ â”‚ [X] Remove              â”‚ â”‚ â”‚  â”‚
â”‚                            â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚  â”‚
â”‚                            â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚  SAFETY SIDEBAR      â”‚                                        â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â”‚ ğŸ›¡ï¸ SÃ‰CURITÃ‰     â”‚ â”‚  â”‚      PRESCRIPTION PREVIEW        â”‚  â”‚
â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ âœ“ Prescription   â”‚ â”‚  â”‚ â”‚ [ORDONNANCE PDF STYLE]     â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ SÃ»re             â”‚ â”‚  â”‚ â”‚                             â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ (0 alertes)      â”‚ â”‚  â”‚ â”‚ Dr. NAME                    â”‚ â”‚  â”‚
â”‚  â”‚ â”‚                  â”‚ â”‚  â”‚ â”‚ Specialty                   â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ ou...            â”‚ â”‚  â”‚ â”‚                             â”‚ â”‚  â”‚
â”‚  â”‚ â”‚                  â”‚ â”‚  â”‚ â”‚ Patient: Jean (10 ans)      â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚  â”‚ â”‚                             â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ â”‚ ğŸ”´ ALERTE    â”‚ â”‚ â”‚  â”‚ â”‚ 1/ Doliprane 1000mg        â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ â”‚ INTERDIT...  â”‚ â”‚ â”‚  â”‚ â”‚ 2/ Warfarine 5mg           â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ â”‚ [DÃ©passer]   â”‚ â”‚ â”‚  â”‚ â”‚                             â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ â”‚ [Masquer]    â”‚ â”‚ â”‚  â”‚ â”‚ Signature: [______]         â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7ï¸âƒ£ Modal Override - Structure

```
                    MODAL OVERLAY (z-50)
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                          â”‚
              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
              â”‚  â”‚  MODAL CONTENT     â”‚  â”‚
              â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
              â”‚  â”‚ â”‚ğŸ›¡ï¸ DÃ‰PASSEMENT â”‚ â”‚  â”‚
              â”‚  â”‚ â”‚    RESTRICTION â”‚ â”‚  â”‚
              â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
              â”‚  â”‚                    â”‚  â”‚
              â”‚  â”‚ Vous Ãªtes sur le   â”‚  â”‚
              â”‚  â”‚ point de dÃ©passer  â”‚  â”‚
              â”‚  â”‚ une restriction.   â”‚  â”‚
              â”‚  â”‚ Action enregistrÃ©e.â”‚  â”‚
              â”‚  â”‚                    â”‚  â”‚
              â”‚  â”‚ Raison du          â”‚  â”‚
              â”‚  â”‚ dÃ©passement:       â”‚  â”‚
              â”‚  â”‚                    â”‚  â”‚
              â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
              â”‚  â”‚ â”‚ [text area]    â”‚ â”‚  â”‚
              â”‚  â”‚ â”‚ [text area]    â”‚ â”‚  â”‚
              â”‚  â”‚ â”‚ [text area]    â”‚ â”‚  â”‚
              â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
              â”‚  â”‚                    â”‚  â”‚
              â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
              â”‚  â”‚ â”‚âš ï¸ ENREGISTRÃ‰E  â”‚ â”‚  â”‚
              â”‚  â”‚ â”‚  + AUDITÃ‰E     â”‚ â”‚  â”‚
              â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
              â”‚  â”‚                    â”‚  â”‚
              â”‚  â”‚ [Annuler]          â”‚  â”‚
              â”‚  â”‚ [Continuer]        â”‚  â”‚
              â”‚  â”‚ (disabled/enabled)  â”‚  â”‚
              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
              â”‚                          â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8ï¸âƒ£ Validation Workflow (Vue ComplÃ¨te)

```
                    USER ACTION
                         â”‚
                    PRESCRIPTION 
                    WORKFLOW START
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                 â”‚
        â”‚ 1. PATIENT SELECTION            â”‚
        â–¼                                 â”‚
    [Fill Patient Form]                 â”‚
    - Age: 10 ans                       â”‚
    - Type: Child                       â”‚
    - Allergies: -                      â”‚
                    â”‚                   â”‚
                    â”‚                   â”‚ 2. MEDICINE SELECTION
                    â”‚                   â–¼
                    â”‚            [Search Medicine]
                    â”‚            [Add Aspirine Adult]
                    â”‚                   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                        â”‚
                                    [TRIGGER]
                            runSafetyChecks()
                                        â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚                      â”‚
                        [LOCAL]            [AI ASYNC]
                            â”‚                      â”‚
                    â”œâ”€ Age < 15?          â”œâ”€ GPT Analysis
                    â”‚  YES + forbidden?    â”œâ”€ Return results
                    â”‚  â–º WARNING           â”‚
                    â”‚                      â””â”€ merge results
                    â”œâ”€ Incompatible?
                    â”‚  YES? â–º WARNING
                    â”‚
                    â””â”€ Update state
                            â”‚
                        [DISPLAY]
                    Display all warnings
                            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                            â”‚
        NO WARNINGS              WARNINGS EXIST
            â”‚                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚âœ“ SAFE   â”‚            â”‚ Alert Panel:   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                               â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
                               â”‚â”‚ ğŸ”´ ALERTE    â”‚â”‚
                               â”‚â”‚ ENFANT...    â”‚â”‚
                               â”‚â”‚[DÃ©passer]   â”‚â”‚
                               â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                   [USER CHOICE]
                                        â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚                           â”‚
                    [MASQUER]                [DÃ‰PASSER]
                        â”‚                           â”‚
                    Remove Alert              Open Modal
                        â”‚                           â”‚
                        â”‚                      [MODAL]
                        â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚                      â”‚Reason?:â”‚
                        â”‚                      â”‚[field] â”‚
                        â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚                           â”‚
                        â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                        â”‚                    â”‚             â”‚
                        â”‚               [CANCEL]      [CONTINUE]
                        â”‚                    â”‚             â”‚
                        â”‚                Close         handleOverride
                        â”‚                modal         - Register
                        â”‚                    â”‚         - Audit log
                        â”‚                    â”‚         - Remove alert
                        â”‚                    â”‚             â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                                    [SAVE PRESCRIPTION]
                                            â”‚
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚                      â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”   [Send to DB]
                        â”‚ JSON Structure: â”‚
                        â”‚ {               â”‚
                        â”‚  items: [{      â”‚
                        â”‚   name: ...,    â”‚
                        â”‚   override: âœ“   â”‚
                        â”‚   reason: "..." â”‚
                        â”‚  }]             â”‚
                        â”‚ }               â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Dernier Update:** 28 Janvier 2026  
**Statut:** âœ… Documentation Visuelle ComplÃ¨te

